```mermaid
flowchart TD
  %% Entry points
  A[Player logs in: Firebase] --> B{Has a team in this league?}
  B -- No --> C[Choose: Create Team or Join Team]

  %% Create Team
  C -- Create Team --> CT1[Select league]
  CT1 --> CT2[Enter team name + description]
  CT2 --> CT3[Create team]
  CT3 --> CT4[Set managerUserId = current user]
  CT4 --> CT5[Add manager to roster: isManager=true]
  CT5 --> CT6[Show: Invite Link / Join Code]
  CT6 --> D[Team Page: Manager view]

  %% Join Team
  C -- Join Team --> J1[Enter code or open invite link]
  J1 --> J2{Validate invite}
  J2 -- Invalid --> JErr1[Error: invalid/expired]
  J2 -- Valid --> J3{One team per league?}
  J3 -- Already on team --> JErr2[Error: already on a team]
  J3 -- OK --> J4{Roster size < 8?}
  J4 -- Full --> JErr3[Error: team is full]
  J4 -- OK --> J5[Add player: isManager=false]
  J5 --> J6[Set membership paymentStatus=UNPAID]
  J6 --> D

  %% Team Page
  D --> D1[Team name & description: manager editable]
  D --> D2[Approval status: Admin-controlled]
  D --> D3[Roster: manager can generate invites]
  D --> D4[Upcoming team schedule]
  D --> D5[Current standing & game history]

  %% Admin Actions
  AD[Admin Dashboard] --> AD1[Open League]
  AD1 --> AD2[View Teams]
  AD2 --> AD3[Approve team when dues paid]
  AD1 --> AD4[Upload/Update League Schedule: PDF]
  AD1 --> AD5[Input Game Results / Update Standings]
  AD3 -. toggles .-> D2
  AD4 -. auto-updates .-> D4
  AD5 -. auto-updates .-> D5
```