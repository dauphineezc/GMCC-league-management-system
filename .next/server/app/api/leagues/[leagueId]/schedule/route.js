"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/leagues/[leagueId]/schedule/route";
exports.ids = ["app/api/leagues/[leagueId]/schedule/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&page=%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute.ts&appDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&page=%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute.ts&appDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_zdauphinee_gmcc_GMCC_league_management_system_src_app_api_leagues_leagueId_schedule_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/leagues/[leagueId]/schedule/route.ts */ \"(rsc)/./src/app/api/leagues/[leagueId]/schedule/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/leagues/[leagueId]/schedule/route\",\n        pathname: \"/api/leagues/[leagueId]/schedule\",\n        filename: \"route\",\n        bundlePath: \"app/api/leagues/[leagueId]/schedule/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\zdauphinee\\\\gmcc\\\\GMCC-league-management-system\\\\src\\\\app\\\\api\\\\leagues\\\\[leagueId]\\\\schedule\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_zdauphinee_gmcc_GMCC_league_management_system_src_app_api_leagues_leagueId_schedule_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/leagues/[leagueId]/schedule/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZsZWFndWVzJTJGJTVCbGVhZ3VlSWQlNUQlMkZzY2hlZHVsZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbGVhZ3VlcyUyRiU1QmxlYWd1ZUlkJTVEJTJGc2NoZWR1bGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZsZWFndWVzJTJGJTVCbGVhZ3VlSWQlNUQlMkZzY2hlZHVsZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN6ZGF1cGhpbmVlJTVDZ21jYyU1Q0dNQ0MtbGVhZ3VlLW1hbmFnZW1lbnQtc3lzdGVtJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUN6ZGF1cGhpbmVlJTVDZ21jYyU1Q0dNQ0MtbGVhZ3VlLW1hbmFnZW1lbnQtc3lzdGVtJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNrRTtBQUMvSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2xlYWd1ZS1tYW5hZ2VtZW50LXN5c3RlbS8/ZjVlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFx6ZGF1cGhpbmVlXFxcXGdtY2NcXFxcR01DQy1sZWFndWUtbWFuYWdlbWVudC1zeXN0ZW1cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcbGVhZ3Vlc1xcXFxbbGVhZ3VlSWRdXFxcXHNjaGVkdWxlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9sZWFndWVzL1tsZWFndWVJZF0vc2NoZWR1bGUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9sZWFndWVzL1tsZWFndWVJZF0vc2NoZWR1bGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2xlYWd1ZXMvW2xlYWd1ZUlkXS9zY2hlZHVsZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHpkYXVwaGluZWVcXFxcZ21jY1xcXFxHTUNDLWxlYWd1ZS1tYW5hZ2VtZW50LXN5c3RlbVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxsZWFndWVzXFxcXFtsZWFndWVJZF1cXFxcc2NoZWR1bGVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2xlYWd1ZXMvW2xlYWd1ZUlkXS9zY2hlZHVsZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&page=%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute.ts&appDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/leagues/[leagueId]/schedule/route.ts":
/*!**********************************************************!*\
  !*** ./src/app/api/leagues/[leagueId]/schedule/route.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   revalidate: () => (/* binding */ revalidate),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var _vercel_kv__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @vercel/kv */ \"(rsc)/./node_modules/@vercel/kv/dist/index.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ \"(rsc)/./node_modules/dayjs/dayjs.min.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs/plugin/utc */ \"(rsc)/./node_modules/dayjs/plugin/utc.js\");\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/timezone */ \"(rsc)/./node_modules/dayjs/plugin/timezone.js\");\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs/plugin/customParseFormat */ \"(rsc)/./node_modules/dayjs/plugin/customParseFormat.js\");\n/* harmony import */ var dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_kvBatch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/kvBatch */ \"(rsc)/./src/lib/kvBatch.ts\");\n// /src/app/api/leagues/[leagueId]/schedule/route.ts\n\n\n\n\n\n\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_3___default()));\nconst runtime = \"nodejs\";\n// OPTIMIZED: Use revalidation instead of force-dynamic\nconst revalidate = 60; // Revalidate every 60 seconds\nconst COMPLETION_GRACE_MINUTES = 120; // how long after scheduled start we consider it \"completed\"\nfunction parseKV(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === \"string\") {\n        const parsed = raw.trim() ? JSON.parse(raw) : [];\n        return parsed;\n    }\n    return [];\n}\nfunction toNewShape(g, idToName) {\n    const dateTimeISO = g.dateTimeISO || g.date || g.startTimeISO || g.start || null;\n    const location = g.location || g.court || g.venue || \"\";\n    const homeTeamName = g.homeTeamName || g.homeName || (g.homeTeamId ? idToName.get(g.homeTeamId) : \"\") || \"\";\n    const awayTeamName = g.awayTeamName || g.awayName || (g.awayTeamId ? idToName.get(g.awayTeamId) : \"\") || \"\";\n    // normalize raw status first\n    const statusRaw = (g.status || \"scheduled\") + \"\";\n    let status = /final/i.test(statusRaw) ? \"final\" : /canceled/i.test(statusRaw) ? \"canceled\" : /completed/i.test(statusRaw) ? \"completed\" : \"scheduled\";\n    // auto-classify past scheduled games as completed (grace window)\n    if (status === \"scheduled\" && dateTimeISO) {\n        const start = new Date(dateTimeISO).getTime();\n        const now = Date.now();\n        if (Number.isFinite(start) && start + COMPLETION_GRACE_MINUTES * 60000 < now) {\n            status = \"completed\";\n        }\n    }\n    return {\n        id: g.id || `game:${g.leagueId || \"\"}:${dateTimeISO || \"\"}:${homeTeamName}-${awayTeamName}`,\n        leagueId: g.leagueId,\n        dateTimeISO,\n        location,\n        homeTeamName,\n        awayTeamName,\n        homeTeamId: g.homeTeamId,\n        awayTeamId: g.awayTeamId,\n        status,\n        homeScore: g.score?.home ?? g.homeScore,\n        awayScore: g.score?.away ?? g.awayScore\n    };\n}\nasync function GET(req, { params }) {\n    try {\n        const url = new URL(req.url);\n        const teamFilter = url.searchParams.get(\"team\") ?? \"\";\n        const leagueId = params.leagueId;\n        // Use the same reliable pattern as PDFs\n        const key = `league:${leagueId}:games`;\n        let rawGames = await _vercel_kv__WEBPACK_IMPORTED_MODULE_5__.kv.get(key);\n        // Always try REST API since it's more reliable\n        if (process.env.KV_REST_API_URL && process.env.KV_REST_API_TOKEN) {\n            const url = `${process.env.KV_REST_API_URL}/get/${encodeURIComponent(key)}`;\n            const r = await fetch(url, {\n                headers: {\n                    Authorization: `Bearer ${process.env.KV_REST_API_TOKEN}`\n                },\n                cache: \"no-store\"\n            });\n            const body = await r.json().catch(()=>({}));\n            if (r.ok && body?.result) {\n                const restGames = parseKV(body.result);\n                const sdkGames = parseKV(rawGames);\n                if (restGames.length >= sdkGames.length) {\n                    rawGames = body.result;\n                }\n            }\n        }\n        const gamesArr = parseKV(rawGames);\n        const sourceGames = gamesArr;\n        const teamIds = Array.from(new Set(sourceGames.flatMap((g)=>[\n                g.homeTeamId,\n                g.awayTeamId\n            ]).filter(Boolean)));\n        // OPTIMIZED: Batch fetch team names instead of N individual queries\n        const idToName = await (0,_lib_kvBatch__WEBPACK_IMPORTED_MODULE_4__.batchGetTeamNames)(teamIds);\n        const deduped = sourceGames.map((g)=>toNewShape(g, idToName));\n        const filtered = teamFilter ? deduped.filter((g)=>g.homeTeamName === teamFilter || g.awayTeamName === teamFilter || g.homeTeamId === teamFilter || g.awayTeamId === teamFilter) : deduped;\n        filtered.sort((a, b)=>String(a.dateTimeISO).localeCompare(String(b.dateTimeISO)));\n        return new Response(JSON.stringify(filtered), {\n            status: 200,\n            headers: {\n                \"content-type\": \"application/json; charset=utf-8\",\n                // OPTIMIZED: Cache for 60 seconds, revalidate in background\n                \"cache-control\": \"public, s-maxage=60, stale-while-revalidate=30\"\n            }\n        });\n    } catch (e) {\n        return new Response(JSON.stringify({\n            error: e?.message || \"Failed to read schedule\"\n        }), {\n            status: 500,\n            headers: {\n                \"content-type\": \"application/json; charset=utf-8\"\n            }\n        });\n    }\n}\nasync function POST(req, { params }) {\n    try {\n        const { homeTeamName, awayTeamName, location, date, time, timezone } = await req.json();\n        const { leagueId } = params;\n        // Validate input\n        if (!homeTeamName?.trim() || !awayTeamName?.trim()) {\n            return new Response(JSON.stringify({\n                error: \"Home team and away team names are required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        if (homeTeamName.trim() === awayTeamName.trim()) {\n            return new Response(JSON.stringify({\n                error: \"Home team and away team cannot be the same\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        if (!date || !time) {\n            return new Response(JSON.stringify({\n                error: \"Date and time are required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        if (!location?.trim()) {\n            return new Response(JSON.stringify({\n                error: \"Location is required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        console.log(`Adding new game: ${homeTeamName} vs ${awayTeamName} on ${date} at ${time}`);\n        const key = `league:${leagueId}:games`;\n        // Use reliable retrieval pattern\n        let raw = await _vercel_kv__WEBPACK_IMPORTED_MODULE_5__.kv.get(key);\n        if (!raw && process.env.KV_REST_API_URL && process.env.KV_REST_API_TOKEN) {\n            const url = `${process.env.KV_REST_API_URL}/get/${encodeURIComponent(key)}`;\n            const r = await fetch(url, {\n                headers: {\n                    Authorization: `Bearer ${process.env.KV_REST_API_TOKEN}`\n                },\n                cache: \"no-store\"\n            });\n            const body = await r.json().catch(()=>({}));\n            if (r.ok && body?.result) {\n                raw = body.result;\n            }\n        }\n        const games = parseKV(raw);\n        // Create new dateTimeISO from date and time\n        const timezoneToUse = timezone || \"America/Detroit\";\n        const dateTimeStr = `${date}T${time}`;\n        const dateTimeISO = dayjs__WEBPACK_IMPORTED_MODULE_0___default().tz(dateTimeStr, timezoneToUse).toISOString();\n        // Create new game\n        const newGame = {\n            id: crypto.randomUUID(),\n            leagueId,\n            homeTeamName: homeTeamName.trim(),\n            awayTeamName: awayTeamName.trim(),\n            location: location.trim(),\n            dateTimeISO,\n            status: \"scheduled\"\n        };\n        // Add the new game\n        games.push(newGame);\n        // Save updated games\n        const dataToWrite = JSON.stringify(games);\n        const backupKey = `${key}:backup`;\n        await Promise.all([\n            _vercel_kv__WEBPACK_IMPORTED_MODULE_5__.kv.set(key, dataToWrite),\n            _vercel_kv__WEBPACK_IMPORTED_MODULE_5__.kv.set(backupKey, dataToWrite)\n        ]);\n        console.log(`Successfully added game ${newGame.id}`);\n        return new Response(JSON.stringify({\n            ok: true,\n            gameId: newGame.id,\n            message: \"Game added successfully\"\n        }), {\n            status: 200,\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n        });\n    } catch (e) {\n        console.error(\"Error adding game:\", e);\n        return new Response(JSON.stringify({\n            error: e?.message || \"Failed to add game\"\n        }), {\n            status: 500,\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9sZWFndWVzL1tsZWFndWVJZF0vc2NoZWR1bGUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvREFBb0Q7QUFFcEI7QUFDTjtBQUNTO0FBQ0k7QUFDVTtBQUNDO0FBRWxEQyxtREFBWSxDQUFDQyx5REFBR0E7QUFDaEJELG1EQUFZLENBQUNFLDhEQUFFQTtBQUNmRixtREFBWSxDQUFDRyx1RUFBR0E7QUFFVCxNQUFNRyxVQUFVLFNBQVM7QUFDaEMsdURBQXVEO0FBQ2hELE1BQU1DLGFBQWEsR0FBRyxDQUFDLDhCQUE4QjtBQUU1RCxNQUFNQywyQkFBMkIsS0FBSyw0REFBNEQ7QUFFbEcsU0FBU0MsUUFBUUMsR0FBWTtJQUMzQixJQUFJQyxNQUFNQyxPQUFPLENBQUNGLE1BQU07UUFDdEIsT0FBT0E7SUFDVDtJQUNBLElBQUksT0FBT0EsUUFBUSxVQUFVO1FBQzNCLE1BQU1HLFNBQVNILElBQUlJLElBQUksS0FBS0MsS0FBS0MsS0FBSyxDQUFDTixPQUFPLEVBQUU7UUFDaEQsT0FBT0c7SUFDVDtJQUNBLE9BQU8sRUFBRTtBQUNYO0FBRUEsU0FBU0ksV0FBV0MsQ0FBTSxFQUFFQyxRQUE2QjtJQUN2RCxNQUFNQyxjQUFjRixFQUFFRSxXQUFXLElBQUlGLEVBQUVHLElBQUksSUFBSUgsRUFBRUksWUFBWSxJQUFJSixFQUFFSyxLQUFLLElBQUk7SUFDNUUsTUFBTUMsV0FBV04sRUFBRU0sUUFBUSxJQUFJTixFQUFFTyxLQUFLLElBQUlQLEVBQUVRLEtBQUssSUFBSTtJQUNyRCxNQUFNQyxlQUNKVCxFQUFFUyxZQUFZLElBQUlULEVBQUVVLFFBQVEsSUFBS1YsQ0FBQUEsRUFBRVcsVUFBVSxHQUFHVixTQUFTVyxHQUFHLENBQUNaLEVBQUVXLFVBQVUsSUFBSSxFQUFDLEtBQU07SUFDdEYsTUFBTUUsZUFDSmIsRUFBRWEsWUFBWSxJQUFJYixFQUFFYyxRQUFRLElBQUtkLENBQUFBLEVBQUVlLFVBQVUs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QVdEO1NBQ25CO1FBRURWLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHdCQUF3QixFQUFFSyxRQUFRaEUsRUFBRSxDQUFDLENBQUM7UUFFbkQsT0FBTyxJQUFJa0QsU0FBUzdFLEtBQUs4RSxTQUFTLENBQUM7WUFDakN0QixJQUFJO1lBQ0o0QyxRQUFRVCxRQUFRaEUsRUFBRTtZQUNsQnNELFNBQVM7UUFDWCxJQUFJO1lBQ0Y3RCxRQUFRO1lBQ1I4QixTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUNoRDtJQUVGLEVBQUUsT0FBTzZCLEdBQVE7UUFDZk0sUUFBUUwsS0FBSyxDQUFDLHNCQUFzQkQ7UUFDcEMsT0FBTyxJQUFJRixTQUFTN0UsS0FBSzhFLFNBQVMsQ0FBQztZQUNqQ0UsT0FBT0QsR0FBR0UsV0FBVztRQUN2QixJQUFJO1lBQ0Y3RCxRQUFRO1lBQ1I4QixTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUNoRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFndWUtbWFuYWdlbWVudC1zeXN0ZW0vLi9zcmMvYXBwL2FwaS9sZWFndWVzL1tsZWFndWVJZF0vc2NoZWR1bGUvcm91dGUudHM/OWQzNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAvc3JjL2FwcC9hcGkvbGVhZ3Vlcy9bbGVhZ3VlSWRdL3NjaGVkdWxlL3JvdXRlLnRzXHJcblxyXG5pbXBvcnQgeyBrdiB9IGZyb20gXCJAdmVyY2VsL2t2XCI7XHJcbmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcyc7XHJcbmltcG9ydCB1dGMgZnJvbSAnZGF5anMvcGx1Z2luL3V0Yyc7XHJcbmltcG9ydCB0eiBmcm9tICdkYXlqcy9wbHVnaW4vdGltZXpvbmUnO1xyXG5pbXBvcnQgY3BmIGZyb20gJ2RheWpzL3BsdWdpbi9jdXN0b21QYXJzZUZvcm1hdCc7XHJcbmltcG9ydCB7IGJhdGNoR2V0VGVhbU5hbWVzIH0gZnJvbSAnQC9saWIva3ZCYXRjaCc7XHJcblxyXG5kYXlqcy5leHRlbmQodXRjKTtcclxuZGF5anMuZXh0ZW5kKHR6KTtcclxuZGF5anMuZXh0ZW5kKGNwZik7XHJcblxyXG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XHJcbi8vIE9QVElNSVpFRDogVXNlIHJldmFsaWRhdGlvbiBpbnN0ZWFkIG9mIGZvcmNlLWR5bmFtaWNcclxuZXhwb3J0IGNvbnN0IHJldmFsaWRhdGUgPSA2MDsgLy8gUmV2YWxpZGF0ZSBldmVyeSA2MCBzZWNvbmRzXHJcblxyXG5jb25zdCBDT01QTEVUSU9OX0dSQUNFX01JTlVURVMgPSAxMjA7IC8vIGhvdyBsb25nIGFmdGVyIHNjaGVkdWxlZCBzdGFydCB3ZSBjb25zaWRlciBpdCBcImNvbXBsZXRlZFwiXHJcblxyXG5mdW5jdGlvbiBwYXJzZUtWKHJhdzogdW5rbm93bik6IGFueVtdIHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShyYXcpKSB7XHJcbiAgICByZXR1cm4gcmF3O1xyXG4gIH1cclxuICBpZiAodHlwZW9mIHJhdyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgY29uc3QgcGFyc2VkID0gcmF3LnRyaW0oKSA/IEpTT04ucGFyc2UocmF3KSA6IFtdO1xyXG4gICAgcmV0dXJuIHBhcnNlZDtcclxuICB9XHJcbiAgcmV0dXJuIFtdO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b05ld1NoYXBlKGc6IGFueSwgaWRUb05hbWU6IE1hcDxzdHJpbmcsIHN0cmluZz4pIHtcclxuICBjb25zdCBkYXRlVGltZUlTTyA9IGcuZGF0ZVRpbWVJU08gfHwgZy5kYXRlIHx8IGcuc3RhcnRUaW1lSVNPIHx8IGcuc3RhcnQgfHwgbnVsbDtcclxuICBjb25zdCBsb2NhdGlvbiA9IGcubG9jYXRpb24gfHwgZy5jb3VydCB8fCBnLnZlbnVlIHx8IFwiXCI7XHJcbiAgY29uc3QgaG9tZVRlYW1OYW1lID1cclxuICAgIGcuaG9tZVRlYW1OYW1lIHx8IGcuaG9tZU5hbWUgfHwgKGcuaG9tZVRlYW1JZCA/IGlkVG9OYW1lLmdldChnLmhvbWVUZWFtSWQpIDogXCJcIikgfHwgXCJcIjtcclxuICBjb25zdCBhd2F5VGVhbU5hbWUgPVxyXG4gICAgZy5hd2F5VGVhbU5hbWUgfHwgZy5hd2F5TmFtZSB8fCAoZy5hd2F5VGVhbUlkID8gaWRUb05hbWUuZ2V0KGcuYXdheVRlYW1JZCkgOiBcIlwiKSB8fCBcIlwiO1xyXG5cclxuICAvLyBub3JtYWxpemUgcmF3IHN0YXR1cyBmaXJzdFxyXG4gIGNvbnN0IHN0YXR1c1JhdyA9IChnLnN0YXR1cyB8fCBcInNjaGVkdWxlZFwiKSArIFwiXCI7XHJcbiAgbGV0IHN0YXR1cyA9XHJcbiAgICAvZmluYWwvaS50ZXN0KHN0YXR1c1JhdykgPyBcImZpbmFsXCJcclxuICAgIDogL2NhbmNlbGVkL2kudGVzdChzdGF0dXNSYXcpID8gXCJjYW5jZWxlZFwiXHJcbiAgICA6IC9jb21wbGV0ZWQvaS50ZXN0KHN0YXR1c1JhdykgPyBcImNvbXBsZXRlZFwiXHJcbiAgICA6IFwic2NoZWR1bGVkXCI7XHJcblxyXG4gIC8vIGF1dG8tY2xhc3NpZnkgcGFzdCBzY2hlZHVsZWQgZ2FtZXMgYXMgY29tcGxldGVkIChncmFjZSB3aW5kb3cpXHJcbiAgaWYgKHN0YXR1cyA9PT0gXCJzY2hlZHVsZWRcIiAmJiBkYXRlVGltZUlTTykge1xyXG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShkYXRlVGltZUlTTykuZ2V0VGltZSgpO1xyXG4gICAgY29uc3Qgbm93ICAgPSBEYXRlLm5vdygpO1xyXG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShzdGFydCkgJiYgc3RhcnQgKyBDT01QTEVUSU9OX0dSQUNFX01JTlVURVMgKiA2MF8wMDAgPCBub3cpIHtcclxuICAgICAgc3RhdHVzID0gXCJjb21wbGV0ZWRcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpZDogZy5pZCB8fCBgZ2FtZToke2cubGVhZ3VlSWQgfHwgXCJcIn06JHtkYXRlVGltZUlTTyB8fCBcIlwifToke2hvbWVUZWFtTmFtZX0tJHthd2F5VGVhbU5hbWV9YCxcclxuICAgIGxlYWd1ZUlkOiBnLmxlYWd1ZUlkLFxyXG4gICAgZGF0ZVRpbWVJU08sXHJcbiAgICBsb2NhdGlvbixcclxuICAgIGhvbWVUZWFtTmFtZSxcclxuICAgIGF3YXlUZWFtTmFtZSxcclxuICAgIGhvbWVUZWFtSWQ6IGcuaG9tZVRlYW1JZCxcclxuICAgIGF3YXlUZWFtSWQ6IGcuYXdheVRlYW1JZCxcclxuICAgIHN0YXR1cyxcclxuICAgIGhvbWVTY29yZTogZy5zY29yZT8uaG9tZSA/PyBnLmhvbWVTY29yZSxcclxuICAgIGF3YXlTY29yZTogZy5zY29yZT8uYXdheSA/PyBnLmF3YXlTY29yZSxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogUmVxdWVzdCwgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgbGVhZ3VlSWQ6IHN0cmluZyB9IH0pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXEudXJsKTtcclxuICAgIGNvbnN0IHRlYW1GaWx0ZXIgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcInRlYW1cIikgPz8gXCJcIjtcclxuICAgIGNvbnN0IGxlYWd1ZUlkID0gcGFyYW1zLmxlYWd1ZUlkO1xyXG5cclxuICAgIC8vIFVzZSB0aGUgc2FtZSByZWxpYWJsZSBwYXR0ZXJuIGFzIFBERnNcclxuICAgIGNvbnN0IGtleSA9IGBsZWFndWU6JHtsZWFndWVJZH06Z2FtZXNgO1xyXG4gICAgXHJcbiAgICBsZXQgcmF3R2FtZXMgPSBhd2FpdCBrdi5nZXQoa2V5KTtcclxuICAgIFxyXG4gICAgLy8gQWx3YXlzIHRyeSBSRVNUIEFQSSBzaW5jZSBpdCdzIG1vcmUgcmVsaWFibGVcclxuICAgIGlmIChwcm9jZXNzLmVudi5LVl9SRVNUX0FQSV9VUkwgJiYgcHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVE9LRU4pIHtcclxuICAgICAgY29uc3QgdXJsID0gYCR7cHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVVJMfS9nZXQvJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX1gO1xyXG4gICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7cHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVE9LRU59YCB9LFxyXG4gICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBib2R5ID0gYXdhaXQgci5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XHJcbiAgICAgIGlmIChyLm9rICYmIGJvZHk/LnJlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3RHYW1lcyA9IHBhcnNlS1YoYm9keS5yZXN1bHQpO1xyXG4gICAgICAgIGNvbnN0IHNka0dhbWVzID0gcGFyc2VLVihyYXdHYW1lcyk7XHJcbiAgICAgICAgaWYgKHJlc3RHYW1lcy5sZW5ndGggPj0gc2RrR2FtZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICByYXdHYW1lcyA9IGJvZHkucmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBnYW1lc0FyciA9IHBhcnNlS1YocmF3R2FtZXMpO1xyXG4gICAgY29uc3Qgc291cmNlR2FtZXMgPSBnYW1lc0FycjtcclxuXHJcbiAgICBjb25zdCB0ZWFtSWRzID0gQXJyYXkuZnJvbShcclxuICAgICAgbmV3IFNldChcclxuICAgICAgICBzb3VyY2VHYW1lc1xyXG4gICAgICAgICAgLmZsYXRNYXAoKGcpID0+IFtnLmhvbWVUZWFtSWQsIGcuYXdheVRlYW1JZF0pXHJcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pIGFzIHN0cmluZ1tdXHJcbiAgICAgIClcclxuICAgICk7XHJcblxyXG4gICAgLy8gT1BUSU1JWkVEOiBCYXRjaCBmZXRjaCB0ZWFtIG5hbWVzIGluc3RlYWQgb2YgTiBpbmRpdmlkdWFsIHF1ZXJpZXNcclxuICAgIGNvbnN0IGlkVG9OYW1lID0gYXdhaXQgYmF0Y2hHZXRUZWFtTmFtZXModGVhbUlkcyk7XHJcblxyXG4gICAgY29uc3QgZGVkdXBlZCA9IHNvdXJjZUdhbWVzLm1hcCgoZykgPT4gdG9OZXdTaGFwZShnLCBpZFRvTmFtZSkpO1xyXG5cclxuICAgIGNvbnN0IGZpbHRlcmVkID0gdGVhbUZpbHRlclxyXG4gICAgICA/IGRlZHVwZWQuZmlsdGVyKFxyXG4gICAgICAgICAgKGcpID0+XHJcbiAgICAgICAgICAgIGcuaG9tZVRlYW1OYW1lID09PSB0ZWFtRmlsdGVyIHx8XHJcbiAgICAgICAgICAgIGcuYXdheVRlYW1OYW1lID09PSB0ZWFtRmlsdGVyIHx8XHJcbiAgICAgICAgICAgIGcuaG9tZVRlYW1JZCA9PT0gdGVhbUZpbHRlciB8fFxyXG4gICAgICAgICAgICBnLmF3YXlUZWFtSWQgPT09IHRlYW1GaWx0ZXJcclxuICAgICAgICApXHJcbiAgICAgIDogZGVkdXBlZDtcclxuXHJcbiAgICBmaWx0ZXJlZC5zb3J0KChhLCBiKSA9PiBTdHJpbmcoYS5kYXRlVGltZUlTTykubG9jYWxlQ29tcGFyZShTdHJpbmcoYi5kYXRlVGltZUlTTykpKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KGZpbHRlcmVkKSwge1xyXG4gICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcsXHJcbiAgICAgICAgLy8gT1BUSU1JWkVEOiBDYWNoZSBmb3IgNjAgc2Vjb25kcywgcmV2YWxpZGF0ZSBpbiBiYWNrZ3JvdW5kXHJcbiAgICAgICAgJ2NhY2hlLWNvbnRyb2wnOiAncHVibGljLCBzLW1heGFnZT02MCwgc3RhbGUtd2hpbGUtcmV2YWxpZGF0ZT0zMCcsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogZT8ubWVzc2FnZSB8fCBcIkZhaWxlZCB0byByZWFkIHNjaGVkdWxlXCIgfSksIHtcclxuICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIgfSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0LCB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBsZWFndWVJZDogc3RyaW5nIH0gfSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGhvbWVUZWFtTmFtZSwgYXdheVRlYW1OYW1lLCBsb2NhdGlvbiwgZGF0ZSwgdGltZSwgdGltZXpvbmUgfSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcbiAgICBjb25zdCB7IGxlYWd1ZUlkIH0gPSBwYXJhbXM7XHJcblxyXG4gICAgLy8gVmFsaWRhdGUgaW5wdXRcclxuICAgIGlmICghaG9tZVRlYW1OYW1lPy50cmltKCkgfHwgIWF3YXlUZWFtTmFtZT8udHJpbSgpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ0hvbWUgdGVhbSBhbmQgYXdheSB0ZWFtIG5hbWVzIGFyZSByZXF1aXJlZCcgfSksIHsgXHJcbiAgICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgICAgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGhvbWVUZWFtTmFtZS50cmltKCkgPT09IGF3YXlUZWFtTmFtZS50cmltKCkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnSG9tZSB0ZWFtIGFuZCBhd2F5IHRlYW0gY2Fubm90IGJlIHRoZSBzYW1lJyB9KSwgeyBcclxuICAgICAgICBzdGF0dXM6IDQwMCxcclxuICAgICAgICBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWRhdGUgfHwgIXRpbWUpIHtcclxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnRGF0ZSBhbmQgdGltZSBhcmUgcmVxdWlyZWQnIH0pLCB7IFxyXG4gICAgICAgIHN0YXR1czogNDAwLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghbG9jYXRpb24/LnRyaW0oKSkge1xyXG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdMb2NhdGlvbiBpcyByZXF1aXJlZCcgfSksIHsgXHJcbiAgICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgICAgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coYEFkZGluZyBuZXcgZ2FtZTogJHtob21lVGVhbU5hbWV9IHZzICR7YXdheVRlYW1OYW1lfSBvbiAke2RhdGV9IGF0ICR7dGltZX1gKTtcclxuXHJcbiAgICBjb25zdCBrZXkgPSBgbGVhZ3VlOiR7bGVhZ3VlSWR9OmdhbWVzYDtcclxuICAgIFxyXG4gICAgLy8gVXNlIHJlbGlhYmxlIHJldHJpZXZhbCBwYXR0ZXJuXHJcbiAgICBsZXQgcmF3ID0gYXdhaXQga3YuZ2V0KGtleSk7XHJcbiAgICBpZiAoIXJhdyAmJiBwcm9jZXNzLmVudi5LVl9SRVNUX0FQSV9VUkwgJiYgcHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVE9LRU4pIHtcclxuICAgICAgY29uc3QgdXJsID0gYCR7cHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVVJMfS9nZXQvJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX1gO1xyXG4gICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7cHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVE9LRU59YCB9LFxyXG4gICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBib2R5ID0gYXdhaXQgci5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XHJcbiAgICAgIGlmIChyLm9rICYmIGJvZHk/LnJlc3VsdCkge1xyXG4gICAgICAgIHJhdyA9IGJvZHkucmVzdWx0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2FtZXMgPSBwYXJzZUtWKHJhdyk7XHJcbiAgICBcclxuICAgIC8vIENyZWF0ZSBuZXcgZGF0ZVRpbWVJU08gZnJvbSBkYXRlIGFuZCB0aW1lXHJcbiAgICBjb25zdCB0aW1lem9uZVRvVXNlID0gdGltZXpvbmUgfHwgJ0FtZXJpY2EvRGV0cm9pdCc7XHJcbiAgICBjb25zdCBkYXRlVGltZVN0ciA9IGAke2RhdGV9VCR7dGltZX1gO1xyXG4gICAgY29uc3QgZGF0ZVRpbWVJU08gPSBkYXlqcy50eihkYXRlVGltZVN0ciwgdGltZXpvbmVUb1VzZSkudG9JU09TdHJpbmcoKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgbmV3IGdhbWVcclxuICAgIGNvbnN0IG5ld0dhbWUgPSB7XHJcbiAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxyXG4gICAgICBsZWFndWVJZCxcclxuICAgICAgaG9tZVRlYW1OYW1lOiBob21lVGVhbU5hbWUudHJpbSgpLFxyXG4gICAgICBhd2F5VGVhbU5hbWU6IGF3YXlUZWFtTmFtZS50cmltKCksXHJcbiAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbi50cmltKCksXHJcbiAgICAgIGRhdGVUaW1lSVNPLFxyXG4gICAgICBzdGF0dXM6ICdzY2hlZHVsZWQnXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFkZCB0aGUgbmV3IGdhbWVcclxuICAgIGdhbWVzLnB1c2gobmV3R2FtZSk7XHJcblxyXG4gICAgLy8gU2F2ZSB1cGRhdGVkIGdhbWVzXHJcbiAgICBjb25zdCBkYXRhVG9Xcml0ZSA9IEpTT04uc3RyaW5naWZ5KGdhbWVzKTtcclxuICAgIGNvbnN0IGJhY2t1cEtleSA9IGAke2tleX06YmFja3VwYDtcclxuICAgIFxyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBrdi5zZXQoa2V5LCBkYXRhVG9Xcml0ZSksXHJcbiAgICAgIGt2LnNldChiYWNrdXBLZXksIGRhdGFUb1dyaXRlKSxcclxuICAgIF0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGBTdWNjZXNzZnVsbHkgYWRkZWQgZ2FtZSAke25ld0dhbWUuaWR9YCk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IFxyXG4gICAgICBvazogdHJ1ZSwgXHJcbiAgICAgIGdhbWVJZDogbmV3R2FtZS5pZCxcclxuICAgICAgbWVzc2FnZTogJ0dhbWUgYWRkZWQgc3VjY2Vzc2Z1bGx5J1xyXG4gICAgfSksIHtcclxuICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XHJcbiAgICB9KTtcclxuXHJcbiAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgZ2FtZTonLCBlKTtcclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBcclxuICAgICAgZXJyb3I6IGU/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBhZGQgZ2FtZScgXHJcbiAgICB9KSwge1xyXG4gICAgICBzdGF0dXM6IDUwMCxcclxuICAgICAgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cclxuICAgIH0pO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJrdiIsImRheWpzIiwidXRjIiwidHoiLCJjcGYiLCJiYXRjaEdldFRlYW1OYW1lcyIsImV4dGVuZCIsInJ1bnRpbWUiLCJyZXZhbGlkYXRlIiwiQ09NUExFVElPTl9HUkFDRV9NSU5VVEVTIiwicGFyc2VLViIsInJhdyIsIkFycmF5IiwiaXNBcnJheSIsInBhcnNlZCIsInRyaW0iLCJKU09OIiwicGFyc2UiLCJ0b05ld1NoYXBlIiwiZyIsImlkVG9OYW1lIiwiZGF0ZVRpbWVJU08iLCJkYXRlIiwic3RhcnRUaW1lSVNPIiwic3RhcnQiLCJsb2NhdGlvbiIsImNvdXJ0IiwidmVudWUiLCJob21lVGVhbU5hbWUiLCJob21lTmFtZSIsImhvbWVUZWFtSWQiLCJnZXQiLCJhd2F5VGVhbU5hbWUiLCJhd2F5TmFtZSIsImF3YXlUZWFtSWQiLCJzdGF0dXNSYXciLCJzdGF0dXMiLCJ0ZXN0IiwiRGF0ZSIsImdldFRpbWUiLCJub3ciLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImlkIiwibGVhZ3VlSWQiLCJob21lU2NvcmUiLCJzY29yZSIsImhvbWUiLCJhd2F5U2NvcmUiLCJhd2F5IiwiR0VUIiwicmVxIiwicGFyYW1zIiwidXJsIiwiVVJMIiwidGVhbUZpbHRlciIsInNlYXJjaFBhcmFtcyIsImtleSIsInJhd0dhbWVzIiwicHJvY2VzcyIsImVudiIsIktWX1JFU1RfQVBJX1VSTCIsIktWX1JFU1RfQVBJX1RPS0VOIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiciIsImZldGNoIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJjYWNoZSIsImJvZHkiLCJqc29uIiwiY2F0Y2giLCJvayIsInJlc3VsdCIsInJlc3RHYW1lcyIsInNka0dhbWVzIiwibGVuZ3RoIiwiZ2FtZXNBcnIiLCJzb3VyY2VHYW1lcyIsInRlYW1JZHMiLCJmcm9tIiwiU2V0IiwiZmxhdE1hcCIsImZpbHRlciIsIkJvb2xlYW4iLCJkZWR1cGVkIiwibWFwIiwiZmlsdGVyZWQiLCJzb3J0IiwiYSIsImIiLCJTdHJpbmciLCJsb2NhbGVDb21wYXJlIiwiUmVzcG9uc2UiLCJzdHJpbmdpZnkiLCJlIiwiZXJyb3IiLCJtZXNzYWdlIiwiUE9TVCIsInRpbWUiLCJ0aW1lem9uZSIsImNvbnNvbGUiLCJsb2ciLCJnYW1lcyIsInRpbWV6b25lVG9Vc2UiLCJkYXRlVGltZVN0ciIsInRvSVNPU3RyaW5nIiwibmV3R2FtZSIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJwdXNoIiwiZGF0YVRvV3JpdGUiLCJiYWNrdXBLZXkiLCJQcm9taXNlIiwiYWxsIiwic2V0IiwiZ2FtZUlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/leagues/[leagueId]/schedule/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/kvBatch.ts":
/*!****************************!*\
  !*** ./src/lib/kvBatch.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   batchGet: () => (/* binding */ batchGet),\n/* harmony export */   batchGetGames: () => (/* binding */ batchGetGames),\n/* harmony export */   batchGetPayments: () => (/* binding */ batchGetPayments),\n/* harmony export */   batchGetRosters: () => (/* binding */ batchGetRosters),\n/* harmony export */   batchGetTeamNames: () => (/* binding */ batchGetTeamNames),\n/* harmony export */   batchGetTeams: () => (/* binding */ batchGetTeams),\n/* harmony export */   parseArrayFromKV: () => (/* binding */ parseArrayFromKV)\n/* harmony export */ });\n/* harmony import */ var _vercel_kv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vercel/kv */ \"(rsc)/./node_modules/@vercel/kv/dist/index.js\");\n// Batch KV operations for performance optimization\n\n/**\r\n * Batch fetch multiple keys in parallel using MGET (much faster than individual gets)\r\n * \r\n * Example:\r\n *   const teams = await batchGet(['team:1', 'team:2', 'team:3']);\r\n *   // Returns: Map { 'team:1' => {...}, 'team:2' => {...}, 'team:3' => {...} }\r\n */ async function batchGet(keys) {\n    if (keys.length === 0) return new Map();\n    // Use MGET for efficient batch retrieval\n    const values = await _vercel_kv__WEBPACK_IMPORTED_MODULE_0__.kv.mget(...keys);\n    const result = new Map();\n    keys.forEach((key, index)=>{\n        result.set(key, values[index]);\n    });\n    return result;\n}\n/**\r\n * Batch fetch teams by IDs\r\n */ async function batchGetTeams(teamIds) {\n    if (teamIds.length === 0) return new Map();\n    const keys = teamIds.map((id)=>`team:${id}`);\n    return batchGet(keys);\n}\n/**\r\n * Batch fetch team names - optimized helper\r\n */ async function batchGetTeamNames(teamIds) {\n    if (teamIds.length === 0) return new Map();\n    const teams = await batchGetTeams(teamIds);\n    const nameMap = new Map();\n    teamIds.forEach((id)=>{\n        const team = teams.get(`team:${id}`);\n        if (team?.name) {\n            nameMap.set(id, team.name);\n        }\n    });\n    return nameMap;\n}\n/**\r\n * Batch fetch payment maps for multiple teams\r\n */ async function batchGetPayments(teamIds) {\n    if (teamIds.length === 0) return new Map();\n    const keys = teamIds.map((id)=>`team:${id}:payments`);\n    const results = await batchGet(keys);\n    const paymentMap = new Map();\n    teamIds.forEach((id)=>{\n        const payments = results.get(`team:${id}:payments`) ?? {};\n        paymentMap.set(id, payments);\n    });\n    return paymentMap;\n}\n/**\r\n * Batch fetch rosters for multiple teams\r\n */ async function batchGetRosters(teamIds) {\n    if (teamIds.length === 0) return new Map();\n    const keys = teamIds.map((id)=>`team:${id}:roster`);\n    const results = await batchGet(keys);\n    const rosterMap = new Map();\n    teamIds.forEach((id)=>{\n        const roster = results.get(`team:${id}:roster`);\n        const rosterArray = Array.isArray(roster) ? roster : typeof roster === \"string\" ? JSON.parse(roster || \"[]\") : [];\n        rosterMap.set(id, rosterArray);\n    });\n    return rosterMap;\n}\n/**\r\n * Batch fetch games for multiple teams\r\n */ async function batchGetGames(teamIds) {\n    if (teamIds.length === 0) return new Map();\n    const keys = teamIds.map((id)=>`team:${id}:games`);\n    const results = await batchGet(keys);\n    const gamesMap = new Map();\n    teamIds.forEach((id)=>{\n        const games = results.get(`team:${id}:games`);\n        const gamesArray = Array.isArray(games) ? games : typeof games === \"string\" ? JSON.parse(games || \"[]\") : [];\n        gamesMap.set(id, gamesArray);\n    });\n    return gamesMap;\n}\n/**\r\n * Helper to parse array from KV (handles string JSON or native arrays)\r\n */ function parseArrayFromKV(raw) {\n    if (Array.isArray(raw)) return raw;\n    if (typeof raw === \"string\") {\n        const s = raw.trim();\n        if (!s) return [];\n        try {\n            const arr = JSON.parse(s);\n            return Array.isArray(arr) ? arr : [];\n        } catch  {\n            return [];\n        }\n    }\n    return [];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUssRUFBRUEsR0FBRyxNQUFNLENBQUM7SUFDakQsTUFBTVEsVUFBVSxNQUFNdEIsU0FBY0M7SUFFcEMsTUFBTWlDLFdBQVcsSUFBSS9CO0lBQ3JCUyxRQUFRTCxPQUFPLENBQUNPLENBQUFBO1FBQ2QsTUFBTXFCLFFBQVFiLFFBQVFILEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRUwsR0FBRyxNQUFNLENBQUM7UUFDNUMsTUFBTXNCLGFBQWFQLE1BQU1DLE9BQU8sQ0FBQ0ssU0FDN0JBLFFBQ0MsT0FBT0EsVUFBVSxXQUFXSixLQUFLQyxLQUFLLENBQUNHLFNBQVMsUUFBUSxFQUFFO1FBQy9ERCxTQUFTeEIsR0FBRyxDQUFDSSxJQUFJc0I7SUFDbkI7SUFFQSxPQUFPRjtBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTRyxpQkFBMEJDLEdBQVk7SUFDcEQsSUFBSVQsTUFBTUMsT0FBTyxDQUFDUSxNQUFNLE9BQU9BO0lBQy9CLElBQUksT0FBT0EsUUFBUSxVQUFVO1FBQzNCLE1BQU1DLElBQUlELElBQUlFLElBQUk7UUFDbEIsSUFBSSxDQUFDRCxHQUFHLE9BQU8sRUFBRTtRQUNqQixJQUFJO1lBQ0YsTUFBTUUsTUFBTVYsS0FBS0MsS0FBSyxDQUFDTztZQUN2QixPQUFPVixNQUFNQyxPQUFPLENBQUNXLE9BQVFBLE1BQWMsRUFBRTtRQUMvQyxFQUFFLE9BQU07WUFDTixPQUFPLEVBQUU7UUFDWDtJQUNGO0lBQ0EsT0FBTyxFQUFFO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFndWUtbWFuYWdlbWVudC1zeXN0ZW0vLi9zcmMvbGliL2t2QmF0Y2gudHM/NTFhOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCYXRjaCBLViBvcGVyYXRpb25zIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25cclxuaW1wb3J0IHsga3YgfSBmcm9tIFwiQHZlcmNlbC9rdlwiO1xyXG5cclxuLyoqXHJcbiAqIEJhdGNoIGZldGNoIG11bHRpcGxlIGtleXMgaW4gcGFyYWxsZWwgdXNpbmcgTUdFVCAobXVjaCBmYXN0ZXIgdGhhbiBpbmRpdmlkdWFsIGdldHMpXHJcbiAqIFxyXG4gKiBFeGFtcGxlOlxyXG4gKiAgIGNvbnN0IHRlYW1zID0gYXdhaXQgYmF0Y2hHZXQoWyd0ZWFtOjEnLCAndGVhbToyJywgJ3RlYW06MyddKTtcclxuICogICAvLyBSZXR1cm5zOiBNYXAgeyAndGVhbToxJyA9PiB7Li4ufSwgJ3RlYW06MicgPT4gey4uLn0sICd0ZWFtOjMnID0+IHsuLi59IH1cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBiYXRjaEdldDxUID0gYW55PihrZXlzOiBzdHJpbmdbXSk6IFByb21pc2U8TWFwPHN0cmluZywgVCB8IG51bGw+PiB7XHJcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSByZXR1cm4gbmV3IE1hcCgpO1xyXG4gIFxyXG4gIC8vIFVzZSBNR0VUIGZvciBlZmZpY2llbnQgYmF0Y2ggcmV0cmlldmFsXHJcbiAgY29uc3QgdmFsdWVzID0gYXdhaXQga3YubWdldDxUPiguLi5rZXlzKTtcclxuICBcclxuICBjb25zdCByZXN1bHQgPSBuZXcgTWFwPHN0cmluZywgVCB8IG51bGw+KCk7XHJcbiAga2V5cy5mb3JFYWNoKChrZXksIGluZGV4KSA9PiB7XHJcbiAgICByZXN1bHQuc2V0KGtleSwgdmFsdWVzW2luZGV4XSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJhdGNoIGZldGNoIHRlYW1zIGJ5IElEc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhdGNoR2V0VGVhbXModGVhbUlkczogc3RyaW5nW10pIHtcclxuICBpZiAodGVhbUlkcy5sZW5ndGggPT09IDApIHJldHVybiBuZXcgTWFwKCk7XHJcbiAgXHJcbiAgY29uc3Qga2V5cyA9IHRlYW1JZHMubWFwKGlkID0+IGB0ZWFtOiR7aWR9YCk7XHJcbiAgcmV0dXJuIGJhdGNoR2V0PGFueT4oa2V5cyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCYXRjaCBmZXRjaCB0ZWFtIG5hbWVzIC0gb3B0aW1pemVkIGhlbHBlclxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhdGNoR2V0VGVhbU5hbWVzKHRlYW1JZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBzdHJpbmc+PiB7XHJcbiAgaWYgKHRlYW1JZHMubGVuZ3RoID09PSAwKSByZXR1cm4gbmV3IE1hcCgpO1xyXG4gIFxyXG4gIGNvbnN0IHRlYW1zID0gYXdhaXQgYmF0Y2hHZXRUZWFtcyh0ZWFtSWRzKTtcclxuICBjb25zdCBuYW1lTWFwID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcclxuICBcclxuICB0ZWFtSWRzLmZvckVhY2goaWQgPT4ge1xyXG4gICAgY29uc3QgdGVhbSA9IHRlYW1zLmdldChgdGVhbToke2lkfWApO1xyXG4gICAgaWYgKHRlYW0/Lm5hbWUpIHtcclxuICAgICAgbmFtZU1hcC5zZXQoaWQsIHRlYW0ubmFtZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgXHJcbiAgcmV0dXJuIG5hbWVNYXA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCYXRjaCBmZXRjaCBwYXltZW50IG1hcHMgZm9yIG11bHRpcGxlIHRlYW1zXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYmF0Y2hHZXRQYXltZW50cyh0ZWFtSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8TWFwPHN0cmluZywgUmVjb3JkPHN0cmluZywgYm9vbGVhbj4+PiB7XHJcbiAgaWYgKHRlYW1JZHMubGVuZ3RoID09PSAwKSByZXR1cm4gbmV3IE1hcCgpO1xyXG4gIFxyXG4gIGNvbnN0IGtleXMgPSB0ZWFtSWRzLm1hcChpZCA9PiBgdGVhbToke2lkfTpwYXltZW50c2ApO1xyXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBiYXRjaEdldDxSZWNvcmQ8c3RyaW5nLCBib29sZWFuPj4oa2V5cyk7XHJcbiAgXHJcbiAgY29uc3QgcGF5bWVudE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPj4oKTtcclxuICB0ZWFtSWRzLmZvckVhY2goaWQgPT4ge1xyXG4gICAgY29uc3QgcGF5bWVudHMgPSByZXN1bHRzLmdldChgdGVhbToke2lkfTpwYXltZW50c2ApID8/IHt9O1xyXG4gICAgcGF5bWVudE1hcC5zZXQoaWQsIHBheW1lbnRzKTtcclxuICB9KTtcclxuICBcclxuICByZXR1cm4gcGF5bWVudE1hcDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJhdGNoIGZldGNoIHJvc3RlcnMgZm9yIG11bHRpcGxlIHRlYW1zXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYmF0Y2hHZXRSb3N0ZXJzKHRlYW1JZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBhbnlbXT4+IHtcclxuICBpZiAodGVhbUlkcy5sZW5ndGggPT09IDApIHJldHVybiBuZXcgTWFwKCk7XHJcbiAgXHJcbiAgY29uc3Qga2V5cyA9IHRlYW1JZHMubWFwKGlkID0+IGB0ZWFtOiR7aWR9OnJvc3RlcmApO1xyXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBiYXRjaEdldDxhbnk+KGtleXMpO1xyXG4gIFxyXG4gIGNvbnN0IHJvc3Rlck1hcCA9IG5ldyBNYXA8c3RyaW5nLCBhbnlbXT4oKTtcclxuICB0ZWFtSWRzLmZvckVhY2goaWQgPT4ge1xyXG4gICAgY29uc3Qgcm9zdGVyID0gcmVzdWx0cy5nZXQoYHRlYW06JHtpZH06cm9zdGVyYCk7XHJcbiAgICBjb25zdCByb3N0ZXJBcnJheSA9IEFycmF5LmlzQXJyYXkocm9zdGVyKSBcclxuICAgICAgPyByb3N0ZXIgXHJcbiAgICAgIDogKHR5cGVvZiByb3N0ZXIgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShyb3N0ZXIgfHwgJ1tdJykgOiBbXSk7XHJcbiAgICByb3N0ZXJNYXAuc2V0KGlkLCByb3N0ZXJBcnJheSk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgcmV0dXJuIHJvc3Rlck1hcDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJhdGNoIGZldGNoIGdhbWVzIGZvciBtdWx0aXBsZSB0ZWFtc1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhdGNoR2V0R2FtZXModGVhbUlkczogc3RyaW5nW10pOiBQcm9taXNlPE1hcDxzdHJpbmcsIGFueVtdPj4ge1xyXG4gIGlmICh0ZWFtSWRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG5ldyBNYXAoKTtcclxuICBcclxuICBjb25zdCBrZXlzID0gdGVhbUlkcy5tYXAoaWQgPT4gYHRlYW06JHtpZH06Z2FtZXNgKTtcclxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgYmF0Y2hHZXQ8YW55PihrZXlzKTtcclxuICBcclxuICBjb25zdCBnYW1lc01hcCA9IG5ldyBNYXA8c3RyaW5nLCBhbnlbXT4oKTtcclxuICB0ZWFtSWRzLmZvckVhY2goaWQgPT4ge1xyXG4gICAgY29uc3QgZ2FtZXMgPSByZXN1bHRzLmdldChgdGVhbToke2lkfTpnYW1lc2ApO1xyXG4gICAgY29uc3QgZ2FtZXNBcnJheSA9IEFycmF5LmlzQXJyYXkoZ2FtZXMpXHJcbiAgICAgID8gZ2FtZXNcclxuICAgICAgOiAodHlwZW9mIGdhbWVzID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoZ2FtZXMgfHwgJ1tdJykgOiBbXSk7XHJcbiAgICBnYW1lc01hcC5zZXQoaWQsIGdhbWVzQXJyYXkpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIHJldHVybiBnYW1lc01hcDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhlbHBlciB0byBwYXJzZSBhcnJheSBmcm9tIEtWIChoYW5kbGVzIHN0cmluZyBKU09OIG9yIG5hdGl2ZSBhcnJheXMpXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcnJheUZyb21LVjxUID0gYW55PihyYXc6IHVua25vd24pOiBUW10ge1xyXG4gIGlmIChBcnJheS5pc0FycmF5KHJhdykpIHJldHVybiByYXcgYXMgVFtdO1xyXG4gIGlmICh0eXBlb2YgcmF3ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICBjb25zdCBzID0gcmF3LnRyaW0oKTtcclxuICAgIGlmICghcykgcmV0dXJuIFtdO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgYXJyID0gSlNPTi5wYXJzZShzKTtcclxuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKSA/IChhcnIgYXMgVFtdKSA6IFtdO1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIFtdO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsia3YiLCJiYXRjaEdldCIsImtleXMiLCJsZW5ndGgiLCJNYXAiLCJ2YWx1ZXMiLCJtZ2V0IiwicmVzdWx0IiwiZm9yRWFjaCIsImtleSIsImluZGV4Iiwic2V0IiwiYmF0Y2hHZXRUZWFtcyIsInRlYW1JZHMiLCJtYXAiLCJpZCIsImJhdGNoR2V0VGVhbU5hbWVzIiwidGVhbXMiLCJuYW1lTWFwIiwidGVhbSIsImdldCIsIm5hbWUiLCJiYXRjaEdldFBheW1lbnRzIiwicmVzdWx0cyIsInBheW1lbnRNYXAiLCJwYXltZW50cyIsImJhdGNoR2V0Um9zdGVycyIsInJvc3Rlck1hcCIsInJvc3RlciIsInJvc3RlckFycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiSlNPTiIsInBhcnNlIiwiYmF0Y2hHZXRHYW1lcyIsImdhbWVzTWFwIiwiZ2FtZXMiLCJnYW1lc0FycmF5IiwicGFyc2VBcnJheUZyb21LViIsInJhdyIsInMiLCJ0cmltIiwiYXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/kvBatch.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/@upstash","vendor-chunks/crypto-js","vendor-chunks/@vercel","vendor-chunks/dayjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&page=%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute.ts&appDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();