"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/leagues/[leagueId]/schedule/route";
exports.ids = ["app/api/leagues/[leagueId]/schedule/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&page=%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute.ts&appDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&page=%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute.ts&appDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_zdauphinee_gmcc_GMCC_league_management_system_src_app_api_leagues_leagueId_schedule_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/leagues/[leagueId]/schedule/route.ts */ \"(rsc)/./src/app/api/leagues/[leagueId]/schedule/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/leagues/[leagueId]/schedule/route\",\n        pathname: \"/api/leagues/[leagueId]/schedule\",\n        filename: \"route\",\n        bundlePath: \"app/api/leagues/[leagueId]/schedule/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\zdauphinee\\\\gmcc\\\\GMCC-league-management-system\\\\src\\\\app\\\\api\\\\leagues\\\\[leagueId]\\\\schedule\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_zdauphinee_gmcc_GMCC_league_management_system_src_app_api_leagues_leagueId_schedule_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/leagues/[leagueId]/schedule/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZsZWFndWVzJTJGJTVCbGVhZ3VlSWQlNUQlMkZzY2hlZHVsZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbGVhZ3VlcyUyRiU1QmxlYWd1ZUlkJTVEJTJGc2NoZWR1bGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZsZWFndWVzJTJGJTVCbGVhZ3VlSWQlNUQlMkZzY2hlZHVsZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN6ZGF1cGhpbmVlJTVDZ21jYyU1Q0dNQ0MtbGVhZ3VlLW1hbmFnZW1lbnQtc3lzdGVtJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUN6ZGF1cGhpbmVlJTVDZ21jYyU1Q0dNQ0MtbGVhZ3VlLW1hbmFnZW1lbnQtc3lzdGVtJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNrRTtBQUMvSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2xlYWd1ZS1tYW5hZ2VtZW50LXN5c3RlbS8/ZjVlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFx6ZGF1cGhpbmVlXFxcXGdtY2NcXFxcR01DQy1sZWFndWUtbWFuYWdlbWVudC1zeXN0ZW1cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcbGVhZ3Vlc1xcXFxbbGVhZ3VlSWRdXFxcXHNjaGVkdWxlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9sZWFndWVzL1tsZWFndWVJZF0vc2NoZWR1bGUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9sZWFndWVzL1tsZWFndWVJZF0vc2NoZWR1bGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2xlYWd1ZXMvW2xlYWd1ZUlkXS9zY2hlZHVsZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHpkYXVwaGluZWVcXFxcZ21jY1xcXFxHTUNDLWxlYWd1ZS1tYW5hZ2VtZW50LXN5c3RlbVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxsZWFndWVzXFxcXFtsZWFndWVJZF1cXFxcc2NoZWR1bGVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2xlYWd1ZXMvW2xlYWd1ZUlkXS9zY2hlZHVsZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&page=%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute.ts&appDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/leagues/[leagueId]/schedule/route.ts":
/*!**********************************************************!*\
  !*** ./src/app/api/leagues/[leagueId]/schedule/route.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var _vercel_kv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @vercel/kv */ \"(rsc)/./node_modules/@vercel/kv/dist/index.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dayjs */ \"(rsc)/./node_modules/dayjs/dayjs.min.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs/plugin/utc */ \"(rsc)/./node_modules/dayjs/plugin/utc.js\");\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/timezone */ \"(rsc)/./node_modules/dayjs/plugin/timezone.js\");\n/* harmony import */ var dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs/plugin/customParseFormat */ \"(rsc)/./node_modules/dayjs/plugin/customParseFormat.js\");\n/* harmony import */ var dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_3__);\n// /src/app/api/leagues/[leagueId]/schedule/route.ts\n\n\n\n\n\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_1___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_timezone__WEBPACK_IMPORTED_MODULE_2___default()));\ndayjs__WEBPACK_IMPORTED_MODULE_0___default().extend((dayjs_plugin_customParseFormat__WEBPACK_IMPORTED_MODULE_3___default()));\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nconst COMPLETION_GRACE_MINUTES = 120; // how long after scheduled start we consider it \"completed\"\nfunction parseKV(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === \"string\") {\n        const parsed = raw.trim() ? JSON.parse(raw) : [];\n        return parsed;\n    }\n    return [];\n}\nfunction toNewShape(g, idToName) {\n    const dateTimeISO = g.dateTimeISO || g.date || g.startTimeISO || g.start || null;\n    const location = g.location || g.court || g.venue || \"\";\n    const homeTeamName = g.homeTeamName || g.homeName || (g.homeTeamId ? idToName.get(g.homeTeamId) : \"\") || \"\";\n    const awayTeamName = g.awayTeamName || g.awayName || (g.awayTeamId ? idToName.get(g.awayTeamId) : \"\") || \"\";\n    // normalize raw status first\n    const statusRaw = (g.status || \"scheduled\") + \"\";\n    let status = /final/i.test(statusRaw) ? \"final\" : /canceled/i.test(statusRaw) ? \"canceled\" : /completed/i.test(statusRaw) ? \"completed\" : \"scheduled\";\n    // auto-classify past scheduled games as completed (grace window)\n    if (status === \"scheduled\" && dateTimeISO) {\n        const start = new Date(dateTimeISO).getTime();\n        const now = Date.now();\n        if (Number.isFinite(start) && start + COMPLETION_GRACE_MINUTES * 60000 < now) {\n            status = \"completed\";\n        }\n    }\n    return {\n        id: g.id || `game:${g.leagueId || \"\"}:${dateTimeISO || \"\"}:${homeTeamName}-${awayTeamName}`,\n        leagueId: g.leagueId,\n        dateTimeISO,\n        location,\n        homeTeamName,\n        awayTeamName,\n        homeTeamId: g.homeTeamId,\n        awayTeamId: g.awayTeamId,\n        status,\n        homeScore: g.score?.home ?? g.homeScore,\n        awayScore: g.score?.away ?? g.awayScore\n    };\n}\nasync function GET(req, { params }) {\n    try {\n        const url = new URL(req.url);\n        const teamFilter = url.searchParams.get(\"team\") ?? \"\";\n        const leagueId = params.leagueId;\n        // Use the same reliable pattern as PDFs\n        const key = `league:${leagueId}:games`;\n        let rawGames = await _vercel_kv__WEBPACK_IMPORTED_MODULE_4__.kv.get(key);\n        // Always try REST API since it's more reliable\n        if (process.env.KV_REST_API_URL && process.env.KV_REST_API_TOKEN) {\n            const url = `${process.env.KV_REST_API_URL}/get/${encodeURIComponent(key)}`;\n            const r = await fetch(url, {\n                headers: {\n                    Authorization: `Bearer ${process.env.KV_REST_API_TOKEN}`\n                },\n                cache: \"no-store\"\n            });\n            const body = await r.json().catch(()=>({}));\n            if (r.ok && body?.result) {\n                const restGames = parseKV(body.result);\n                const sdkGames = parseKV(rawGames);\n                if (restGames.length >= sdkGames.length) {\n                    rawGames = body.result;\n                }\n            }\n        }\n        const gamesArr = parseKV(rawGames);\n        const sourceGames = gamesArr;\n        const teamIds = Array.from(new Set(sourceGames.flatMap((g)=>[\n                g.homeTeamId,\n                g.awayTeamId\n            ]).filter(Boolean)));\n        const idToName = new Map();\n        await Promise.all(teamIds.map(async (id)=>{\n            const t = await _vercel_kv__WEBPACK_IMPORTED_MODULE_4__.kv.get(`team:${id}`);\n            if (t?.name) idToName.set(id, t.name);\n        }));\n        const deduped = sourceGames.map((g)=>toNewShape(g, idToName));\n        const filtered = teamFilter ? deduped.filter((g)=>g.homeTeamName === teamFilter || g.awayTeamName === teamFilter || g.homeTeamId === teamFilter || g.awayTeamId === teamFilter) : deduped;\n        filtered.sort((a, b)=>String(a.dateTimeISO).localeCompare(String(b.dateTimeISO)));\n        return new Response(JSON.stringify(filtered), {\n            status: 200,\n            headers: {\n                \"content-type\": \"application/json; charset=utf-8\",\n                \"cache-control\": \"no-store, max-age=0\"\n            }\n        });\n    } catch (e) {\n        return new Response(JSON.stringify({\n            error: e?.message || \"Failed to read schedule\"\n        }), {\n            status: 500,\n            headers: {\n                \"content-type\": \"application/json; charset=utf-8\"\n            }\n        });\n    }\n}\nasync function POST(req, { params }) {\n    try {\n        const { homeTeamName, awayTeamName, location, date, time, timezone } = await req.json();\n        const { leagueId } = params;\n        // Validate input\n        if (!homeTeamName?.trim() || !awayTeamName?.trim()) {\n            return new Response(JSON.stringify({\n                error: \"Home team and away team names are required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        if (homeTeamName.trim() === awayTeamName.trim()) {\n            return new Response(JSON.stringify({\n                error: \"Home team and away team cannot be the same\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        if (!date || !time) {\n            return new Response(JSON.stringify({\n                error: \"Date and time are required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        if (!location?.trim()) {\n            return new Response(JSON.stringify({\n                error: \"Location is required\"\n            }), {\n                status: 400,\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            });\n        }\n        console.log(`Adding new game: ${homeTeamName} vs ${awayTeamName} on ${date} at ${time}`);\n        const key = `league:${leagueId}:games`;\n        // Use reliable retrieval pattern\n        let raw = await _vercel_kv__WEBPACK_IMPORTED_MODULE_4__.kv.get(key);\n        if (!raw && process.env.KV_REST_API_URL && process.env.KV_REST_API_TOKEN) {\n            const url = `${process.env.KV_REST_API_URL}/get/${encodeURIComponent(key)}`;\n            const r = await fetch(url, {\n                headers: {\n                    Authorization: `Bearer ${process.env.KV_REST_API_TOKEN}`\n                },\n                cache: \"no-store\"\n            });\n            const body = await r.json().catch(()=>({}));\n            if (r.ok && body?.result) {\n                raw = body.result;\n            }\n        }\n        const games = parseKV(raw);\n        // Create new dateTimeISO from date and time\n        const timezoneToUse = timezone || \"America/Detroit\";\n        const dateTimeStr = `${date}T${time}`;\n        const dateTimeISO = dayjs__WEBPACK_IMPORTED_MODULE_0___default().tz(dateTimeStr, timezoneToUse).toISOString();\n        // Create new game\n        const newGame = {\n            id: crypto.randomUUID(),\n            leagueId,\n            homeTeamName: homeTeamName.trim(),\n            awayTeamName: awayTeamName.trim(),\n            location: location.trim(),\n            dateTimeISO,\n            status: \"scheduled\"\n        };\n        // Add the new game\n        games.push(newGame);\n        // Save updated games\n        const dataToWrite = JSON.stringify(games);\n        const backupKey = `${key}:backup`;\n        await Promise.all([\n            _vercel_kv__WEBPACK_IMPORTED_MODULE_4__.kv.set(key, dataToWrite),\n            _vercel_kv__WEBPACK_IMPORTED_MODULE_4__.kv.set(backupKey, dataToWrite)\n        ]);\n        console.log(`Successfully added game ${newGame.id}`);\n        return new Response(JSON.stringify({\n            ok: true,\n            gameId: newGame.id,\n            message: \"Game added successfully\"\n        }), {\n            status: 200,\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n        });\n    } catch (e) {\n        console.error(\"Error adding game:\", e);\n        return new Response(JSON.stringify({\n            error: e?.message || \"Failed to add game\"\n        }), {\n            status: 500,\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9sZWFndWVzL1tsZWFndWVJZF0vc2NoZWR1bGUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9EQUFvRDtBQUVwQjtBQUNOO0FBQ1M7QUFDSTtBQUNVO0FBRWpEQyxtREFBWSxDQUFDQyx5REFBR0E7QUFDaEJELG1EQUFZLENBQUNFLDhEQUFFQTtBQUNmRixtREFBWSxDQUFDRyx1RUFBR0E7QUFFVCxNQUFNRSxVQUFVLFNBQVM7QUFDekIsTUFBTUMsVUFBVSxnQkFBZ0I7QUFFdkMsTUFBTUMsMkJBQTJCLEtBQUssNERBQTREO0FBRWxHLFNBQVNDLFFBQVFDLEdBQVk7SUFDM0IsSUFBSUMsTUFBTUMsT0FBTyxDQUFDRixNQUFNO1FBQ3RCLE9BQU9BO0lBQ1Q7SUFDQSxJQUFJLE9BQU9BLFFBQVEsVUFBVTtRQUMzQixNQUFNRyxTQUFTSCxJQUFJSSxJQUFJLEtBQUtDLEtBQUtDLEtBQUssQ0FBQ04sT0FBTyxFQUFFO1FBQ2hELE9BQU9HO0lBQ1Q7SUFDQSxPQUFPLEVBQUU7QUFDWDtBQUVBLFNBQVNJLFdBQVdDLENBQU0sRUFBRUMsUUFBNkI7SUFDdkQsTUFBTUMsY0FBY0YsRUFBRUUsV0FBVyxJQUFJRixFQUFFRyxJQUFJLElBQUlILEVBQUVJLFlBQVksSUFBSUosRUFBRUssS0FBSyxJQUFJO0lBQzVFLE1BQU1DLFdBQVdOLEVBQUVNLFFBQVEsSUFBSU4sRUFBRU8sS0FBSyxJQUFJUCxFQUFFUSxLQUFLLElBQUk7SUFDckQsTUFBTUMsZUFDSlQsRUFBRVMsWUFBWSxJQUFJVCxFQUFFVSxRQUFRLElBQUtWLENBQUFBLEVBQUVXLFVBQVUsR0FBR1YsU0FBU1csR0FBRyxDQUFDWixFQUFFVyxVQUFVLElBQUksRUFBQyxLQUFNO0lBQ3RGLE1BQU1FLGVBQ0piLEVBQUVhLFlBQVksSUFBSWIsRUFBRWMsUUFBUSxJQUFLZCxDQUFBQSxFQUFFZSxVQUFVLEdBQUdkLFNBQVNXLEdBQUcsQ0FBQ1osRUFBRWUs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QUFFN0QsSUFBSSxPQUFPLENBQUM7UUFFakMsTUFBTTZCLFFBQVFDLEdBQUcsQ0FBQztZQUNoQnRGLDBDQUFFQSxDQUFDMEYsR0FBRyxDQUFDbEMsS0FBSzREO1lBQ1pwSCwwQ0FBRUEsQ0FBQzBGLEdBQUcsQ0FBQzJCLFdBQVdEO1NBQ25CO1FBRURWLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHdCQUF3QixFQUFFSyxRQUFRdEUsRUFBRSxDQUFDLENBQUM7UUFFbkQsT0FBTyxJQUFJd0QsU0FBU25GLEtBQUtvRixTQUFTLENBQUM7WUFDakM1QixJQUFJO1lBQ0orQyxRQUFRTixRQUFRdEUsRUFBRTtZQUNsQjRELFNBQVM7UUFDWCxJQUFJO1lBQ0ZuRSxRQUFRO1lBQ1I4QixTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUNoRDtJQUVGLEVBQUUsT0FBT21DLEdBQVE7UUFDZk0sUUFBUUwsS0FBSyxDQUFDLHNCQUFzQkQ7UUFDcEMsT0FBTyxJQUFJRixTQUFTbkYsS0FBS29GLFNBQVMsQ0FBQztZQUNqQ0UsT0FBT0QsR0FBR0UsV0FBVztRQUN2QixJQUFJO1lBQ0ZuRSxRQUFRO1lBQ1I4QixTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUNoRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFndWUtbWFuYWdlbWVudC1zeXN0ZW0vLi9zcmMvYXBwL2FwaS9sZWFndWVzL1tsZWFndWVJZF0vc2NoZWR1bGUvcm91dGUudHM/OWQzNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAvc3JjL2FwcC9hcGkvbGVhZ3Vlcy9bbGVhZ3VlSWRdL3NjaGVkdWxlL3JvdXRlLnRzXHJcblxyXG5pbXBvcnQgeyBrdiB9IGZyb20gXCJAdmVyY2VsL2t2XCI7XHJcbmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcyc7XHJcbmltcG9ydCB1dGMgZnJvbSAnZGF5anMvcGx1Z2luL3V0Yyc7XHJcbmltcG9ydCB0eiBmcm9tICdkYXlqcy9wbHVnaW4vdGltZXpvbmUnO1xyXG5pbXBvcnQgY3BmIGZyb20gJ2RheWpzL3BsdWdpbi9jdXN0b21QYXJzZUZvcm1hdCc7XHJcblxyXG5kYXlqcy5leHRlbmQodXRjKTtcclxuZGF5anMuZXh0ZW5kKHR6KTtcclxuZGF5anMuZXh0ZW5kKGNwZik7XHJcblxyXG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XHJcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gXCJmb3JjZS1keW5hbWljXCI7XHJcblxyXG5jb25zdCBDT01QTEVUSU9OX0dSQUNFX01JTlVURVMgPSAxMjA7IC8vIGhvdyBsb25nIGFmdGVyIHNjaGVkdWxlZCBzdGFydCB3ZSBjb25zaWRlciBpdCBcImNvbXBsZXRlZFwiXHJcblxyXG5mdW5jdGlvbiBwYXJzZUtWKHJhdzogdW5rbm93bik6IGFueVtdIHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShyYXcpKSB7XHJcbiAgICByZXR1cm4gcmF3O1xyXG4gIH1cclxuICBpZiAodHlwZW9mIHJhdyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgY29uc3QgcGFyc2VkID0gcmF3LnRyaW0oKSA/IEpTT04ucGFyc2UocmF3KSA6IFtdO1xyXG4gICAgcmV0dXJuIHBhcnNlZDtcclxuICB9XHJcbiAgcmV0dXJuIFtdO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b05ld1NoYXBlKGc6IGFueSwgaWRUb05hbWU6IE1hcDxzdHJpbmcsIHN0cmluZz4pIHtcclxuICBjb25zdCBkYXRlVGltZUlTTyA9IGcuZGF0ZVRpbWVJU08gfHwgZy5kYXRlIHx8IGcuc3RhcnRUaW1lSVNPIHx8IGcuc3RhcnQgfHwgbnVsbDtcclxuICBjb25zdCBsb2NhdGlvbiA9IGcubG9jYXRpb24gfHwgZy5jb3VydCB8fCBnLnZlbnVlIHx8IFwiXCI7XHJcbiAgY29uc3QgaG9tZVRlYW1OYW1lID1cclxuICAgIGcuaG9tZVRlYW1OYW1lIHx8IGcuaG9tZU5hbWUgfHwgKGcuaG9tZVRlYW1JZCA/IGlkVG9OYW1lLmdldChnLmhvbWVUZWFtSWQpIDogXCJcIikgfHwgXCJcIjtcclxuICBjb25zdCBhd2F5VGVhbU5hbWUgPVxyXG4gICAgZy5hd2F5VGVhbU5hbWUgfHwgZy5hd2F5TmFtZSB8fCAoZy5hd2F5VGVhbUlkID8gaWRUb05hbWUuZ2V0KGcuYXdheVRlYW1JZCkgOiBcIlwiKSB8fCBcIlwiO1xyXG5cclxuICAvLyBub3JtYWxpemUgcmF3IHN0YXR1cyBmaXJzdFxyXG4gIGNvbnN0IHN0YXR1c1JhdyA9IChnLnN0YXR1cyB8fCBcInNjaGVkdWxlZFwiKSArIFwiXCI7XHJcbiAgbGV0IHN0YXR1cyA9XHJcbiAgICAvZmluYWwvaS50ZXN0KHN0YXR1c1JhdykgPyBcImZpbmFsXCJcclxuICAgIDogL2NhbmNlbGVkL2kudGVzdChzdGF0dXNSYXcpID8gXCJjYW5jZWxlZFwiXHJcbiAgICA6IC9jb21wbGV0ZWQvaS50ZXN0KHN0YXR1c1JhdykgPyBcImNvbXBsZXRlZFwiXHJcbiAgICA6IFwic2NoZWR1bGVkXCI7XHJcblxyXG4gIC8vIGF1dG8tY2xhc3NpZnkgcGFzdCBzY2hlZHVsZWQgZ2FtZXMgYXMgY29tcGxldGVkIChncmFjZSB3aW5kb3cpXHJcbiAgaWYgKHN0YXR1cyA9PT0gXCJzY2hlZHVsZWRcIiAmJiBkYXRlVGltZUlTTykge1xyXG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShkYXRlVGltZUlTTykuZ2V0VGltZSgpO1xyXG4gICAgY29uc3Qgbm93ICAgPSBEYXRlLm5vdygpO1xyXG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShzdGFydCkgJiYgc3RhcnQgKyBDT01QTEVUSU9OX0dSQUNFX01JTlVURVMgKiA2MF8wMDAgPCBub3cpIHtcclxuICAgICAgc3RhdHVzID0gXCJjb21wbGV0ZWRcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpZDogZy5pZCB8fCBgZ2FtZToke2cubGVhZ3VlSWQgfHwgXCJcIn06JHtkYXRlVGltZUlTTyB8fCBcIlwifToke2hvbWVUZWFtTmFtZX0tJHthd2F5VGVhbU5hbWV9YCxcclxuICAgIGxlYWd1ZUlkOiBnLmxlYWd1ZUlkLFxyXG4gICAgZGF0ZVRpbWVJU08sXHJcbiAgICBsb2NhdGlvbixcclxuICAgIGhvbWVUZWFtTmFtZSxcclxuICAgIGF3YXlUZWFtTmFtZSxcclxuICAgIGhvbWVUZWFtSWQ6IGcuaG9tZVRlYW1JZCxcclxuICAgIGF3YXlUZWFtSWQ6IGcuYXdheVRlYW1JZCxcclxuICAgIHN0YXR1cyxcclxuICAgIGhvbWVTY29yZTogZy5zY29yZT8uaG9tZSA/PyBnLmhvbWVTY29yZSxcclxuICAgIGF3YXlTY29yZTogZy5zY29yZT8uYXdheSA/PyBnLmF3YXlTY29yZSxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogUmVxdWVzdCwgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgbGVhZ3VlSWQ6IHN0cmluZyB9IH0pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXEudXJsKTtcclxuICAgIGNvbnN0IHRlYW1GaWx0ZXIgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcInRlYW1cIikgPz8gXCJcIjtcclxuICAgIGNvbnN0IGxlYWd1ZUlkID0gcGFyYW1zLmxlYWd1ZUlkO1xyXG5cclxuICAgIC8vIFVzZSB0aGUgc2FtZSByZWxpYWJsZSBwYXR0ZXJuIGFzIFBERnNcclxuICAgIGNvbnN0IGtleSA9IGBsZWFndWU6JHtsZWFndWVJZH06Z2FtZXNgO1xyXG4gICAgXHJcbiAgICBsZXQgcmF3R2FtZXMgPSBhd2FpdCBrdi5nZXQoa2V5KTtcclxuICAgIFxyXG4gICAgLy8gQWx3YXlzIHRyeSBSRVNUIEFQSSBzaW5jZSBpdCdzIG1vcmUgcmVsaWFibGVcclxuICAgIGlmIChwcm9jZXNzLmVudi5LVl9SRVNUX0FQSV9VUkwgJiYgcHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVE9LRU4pIHtcclxuICAgICAgY29uc3QgdXJsID0gYCR7cHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVVJMfS9nZXQvJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX1gO1xyXG4gICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7cHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVE9LRU59YCB9LFxyXG4gICAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBib2R5ID0gYXdhaXQgci5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XHJcbiAgICAgIGlmIChyLm9rICYmIGJvZHk/LnJlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3RHYW1lcyA9IHBhcnNlS1YoYm9keS5yZXN1bHQpO1xyXG4gICAgICAgIGNvbnN0IHNka0dhbWVzID0gcGFyc2VLVihyYXdHYW1lcyk7XHJcbiAgICAgICAgaWYgKHJlc3RHYW1lcy5sZW5ndGggPj0gc2RrR2FtZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICByYXdHYW1lcyA9IGJvZHkucmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBnYW1lc0FyciA9IHBhcnNlS1YocmF3R2FtZXMpO1xyXG4gICAgY29uc3Qgc291cmNlR2FtZXMgPSBnYW1lc0FycjtcclxuXHJcbiAgICBjb25zdCB0ZWFtSWRzID0gQXJyYXkuZnJvbShcclxuICAgICAgbmV3IFNldChcclxuICAgICAgICBzb3VyY2VHYW1lc1xyXG4gICAgICAgICAgLmZsYXRNYXAoKGcpID0+IFtnLmhvbWVUZWFtSWQsIGcuYXdheVRlYW1JZF0pXHJcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pIGFzIHN0cmluZ1tdXHJcbiAgICAgIClcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgaWRUb05hbWUgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpO1xyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgIHRlYW1JZHMubWFwKGFzeW5jIChpZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCBrdi5nZXQ8YW55PihgdGVhbToke2lkfWApO1xyXG4gICAgICAgIGlmICh0Py5uYW1lKSBpZFRvTmFtZS5zZXQoaWQsIHQubmFtZSk7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGRlZHVwZWQgPSBzb3VyY2VHYW1lcy5tYXAoKGcpID0+IHRvTmV3U2hhcGUoZywgaWRUb05hbWUpKTtcclxuXHJcbiAgICBjb25zdCBmaWx0ZXJlZCA9IHRlYW1GaWx0ZXJcclxuICAgICAgPyBkZWR1cGVkLmZpbHRlcihcclxuICAgICAgICAgIChnKSA9PlxyXG4gICAgICAgICAgICBnLmhvbWVUZWFtTmFtZSA9PT0gdGVhbUZpbHRlciB8fFxyXG4gICAgICAgICAgICBnLmF3YXlUZWFtTmFtZSA9PT0gdGVhbUZpbHRlciB8fFxyXG4gICAgICAgICAgICBnLmhvbWVUZWFtSWQgPT09IHRlYW1GaWx0ZXIgfHxcclxuICAgICAgICAgICAgZy5hd2F5VGVhbUlkID09PSB0ZWFtRmlsdGVyXHJcbiAgICAgICAgKVxyXG4gICAgICA6IGRlZHVwZWQ7XHJcblxyXG4gICAgZmlsdGVyZWQuc29ydCgoYSwgYikgPT4gU3RyaW5nKGEuZGF0ZVRpbWVJU08pLmxvY2FsZUNvbXBhcmUoU3RyaW5nKGIuZGF0ZVRpbWVJU08pKSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShmaWx0ZXJlZCksIHtcclxuICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxyXG4gICAgICAgICdjYWNoZS1jb250cm9sJzogJ25vLXN0b3JlLCBtYXgtYWdlPTAnLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IGU/Lm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gcmVhZCBzY2hlZHVsZVwiIH0pLCB7XHJcbiAgICAgIHN0YXR1czogNTAwLFxyXG4gICAgICBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiIH0sXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCwgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgbGVhZ3VlSWQ6IHN0cmluZyB9IH0pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBob21lVGVhbU5hbWUsIGF3YXlUZWFtTmFtZSwgbG9jYXRpb24sIGRhdGUsIHRpbWUsIHRpbWV6b25lIH0gPSBhd2FpdCByZXEuanNvbigpO1xyXG4gICAgY29uc3QgeyBsZWFndWVJZCB9ID0gcGFyYW1zO1xyXG5cclxuICAgIC8vIFZhbGlkYXRlIGlucHV0XHJcbiAgICBpZiAoIWhvbWVUZWFtTmFtZT8udHJpbSgpIHx8ICFhd2F5VGVhbU5hbWU/LnRyaW0oKSkge1xyXG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdIb21lIHRlYW0gYW5kIGF3YXkgdGVhbSBuYW1lcyBhcmUgcmVxdWlyZWQnIH0pLCB7IFxyXG4gICAgICAgIHN0YXR1czogNDAwLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChob21lVGVhbU5hbWUudHJpbSgpID09PSBhd2F5VGVhbU5hbWUudHJpbSgpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ0hvbWUgdGVhbSBhbmQgYXdheSB0ZWFtIGNhbm5vdCBiZSB0aGUgc2FtZScgfSksIHsgXHJcbiAgICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgICAgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFkYXRlIHx8ICF0aW1lKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ0RhdGUgYW5kIHRpbWUgYXJlIHJlcXVpcmVkJyB9KSwgeyBcclxuICAgICAgICBzdGF0dXM6IDQwMCxcclxuICAgICAgICBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWxvY2F0aW9uPy50cmltKCkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnTG9jYXRpb24gaXMgcmVxdWlyZWQnIH0pLCB7IFxyXG4gICAgICAgIHN0YXR1czogNDAwLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGBBZGRpbmcgbmV3IGdhbWU6ICR7aG9tZVRlYW1OYW1lfSB2cyAke2F3YXlUZWFtTmFtZX0gb24gJHtkYXRlfSBhdCAke3RpbWV9YCk7XHJcblxyXG4gICAgY29uc3Qga2V5ID0gYGxlYWd1ZToke2xlYWd1ZUlkfTpnYW1lc2A7XHJcbiAgICBcclxuICAgIC8vIFVzZSByZWxpYWJsZSByZXRyaWV2YWwgcGF0dGVyblxyXG4gICAgbGV0IHJhdyA9IGF3YWl0IGt2LmdldChrZXkpO1xyXG4gICAgaWYgKCFyYXcgJiYgcHJvY2Vzcy5lbnYuS1ZfUkVTVF9BUElfVVJMICYmIHByb2Nlc3MuZW52LktWX1JFU1RfQVBJX1RPS0VOKSB7XHJcbiAgICAgIGNvbnN0IHVybCA9IGAke3Byb2Nlc3MuZW52LktWX1JFU1RfQVBJX1VSTH0vZ2V0LyR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9YDtcclxuICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKHVybCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Byb2Nlc3MuZW52LktWX1JFU1RfQVBJX1RPS0VOfWAgfSxcclxuICAgICAgICBjYWNoZTogXCJuby1zdG9yZVwiLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHIuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xyXG4gICAgICBpZiAoci5vayAmJiBib2R5Py5yZXN1bHQpIHtcclxuICAgICAgICByYXcgPSBib2R5LnJlc3VsdDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGdhbWVzID0gcGFyc2VLVihyYXcpO1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgbmV3IGRhdGVUaW1lSVNPIGZyb20gZGF0ZSBhbmQgdGltZVxyXG4gICAgY29uc3QgdGltZXpvbmVUb1VzZSA9IHRpbWV6b25lIHx8ICdBbWVyaWNhL0RldHJvaXQnO1xyXG4gICAgY29uc3QgZGF0ZVRpbWVTdHIgPSBgJHtkYXRlfVQke3RpbWV9YDtcclxuICAgIGNvbnN0IGRhdGVUaW1lSVNPID0gZGF5anMudHooZGF0ZVRpbWVTdHIsIHRpbWV6b25lVG9Vc2UpLnRvSVNPU3RyaW5nKCk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIG5ldyBnYW1lXHJcbiAgICBjb25zdCBuZXdHYW1lID0ge1xyXG4gICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcclxuICAgICAgbGVhZ3VlSWQsXHJcbiAgICAgIGhvbWVUZWFtTmFtZTogaG9tZVRlYW1OYW1lLnRyaW0oKSxcclxuICAgICAgYXdheVRlYW1OYW1lOiBhd2F5VGVhbU5hbWUudHJpbSgpLFxyXG4gICAgICBsb2NhdGlvbjogbG9jYXRpb24udHJpbSgpLFxyXG4gICAgICBkYXRlVGltZUlTTyxcclxuICAgICAgc3RhdHVzOiAnc2NoZWR1bGVkJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIG5ldyBnYW1lXHJcbiAgICBnYW1lcy5wdXNoKG5ld0dhbWUpO1xyXG5cclxuICAgIC8vIFNhdmUgdXBkYXRlZCBnYW1lc1xyXG4gICAgY29uc3QgZGF0YVRvV3JpdGUgPSBKU09OLnN0cmluZ2lmeShnYW1lcyk7XHJcbiAgICBjb25zdCBiYWNrdXBLZXkgPSBgJHtrZXl9OmJhY2t1cGA7XHJcbiAgICBcclxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAga3Yuc2V0KGtleSwgZGF0YVRvV3JpdGUpLFxyXG4gICAgICBrdi5zZXQoYmFja3VwS2V5LCBkYXRhVG9Xcml0ZSksXHJcbiAgICBdKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGFkZGVkIGdhbWUgJHtuZXdHYW1lLmlkfWApO1xyXG5cclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBcclxuICAgICAgb2s6IHRydWUsIFxyXG4gICAgICBnYW1lSWQ6IG5ld0dhbWUuaWQsXHJcbiAgICAgIG1lc3NhZ2U6ICdHYW1lIGFkZGVkIHN1Y2Nlc3NmdWxseSdcclxuICAgIH0pLCB7XHJcbiAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxyXG4gICAgfSk7XHJcblxyXG4gIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIGdhbWU6JywgZSk7XHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgXHJcbiAgICAgIGVycm9yOiBlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gYWRkIGdhbWUnIFxyXG4gICAgfSksIHtcclxuICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XHJcbiAgICB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsia3YiLCJkYXlqcyIsInV0YyIsInR6IiwiY3BmIiwiZXh0ZW5kIiwicnVudGltZSIsImR5bmFtaWMiLCJDT01QTEVUSU9OX0dSQUNFX01JTlVURVMiLCJwYXJzZUtWIiwicmF3IiwiQXJyYXkiLCJpc0FycmF5IiwicGFyc2VkIiwidHJpbSIsIkpTT04iLCJwYXJzZSIsInRvTmV3U2hhcGUiLCJnIiwiaWRUb05hbWUiLCJkYXRlVGltZUlTTyIsImRhdGUiLCJzdGFydFRpbWVJU08iLCJzdGFydCIsImxvY2F0aW9uIiwiY291cnQiLCJ2ZW51ZSIsImhvbWVUZWFtTmFtZSIsImhvbWVOYW1lIiwiaG9tZVRlYW1JZCIsImdldCIsImF3YXlUZWFtTmFtZSIsImF3YXlOYW1lIiwiYXdheVRlYW1JZCIsInN0YXR1c1JhdyIsInN0YXR1cyIsInRlc3QiLCJEYXRlIiwiZ2V0VGltZSIsIm5vdyIsIk51bWJlciIsImlzRmluaXRlIiwiaWQiLCJsZWFndWVJZCIsImhvbWVTY29yZSIsInNjb3JlIiwiaG9tZSIsImF3YXlTY29yZSIsImF3YXkiLCJHRVQiLCJyZXEiLCJwYXJhbXMiLCJ1cmwiLCJVUkwiLCJ0ZWFtRmlsdGVyIiwic2VhcmNoUGFyYW1zIiwia2V5IiwicmF3R2FtZXMiLCJwcm9jZXNzIiwiZW52IiwiS1ZfUkVTVF9BUElfVVJMIiwiS1ZfUkVTVF9BUElfVE9LRU4iLCJlbmNvZGVVUklDb21wb25lbnQiLCJyIiwiZmV0Y2giLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImNhY2hlIiwiYm9keSIsImpzb24iLCJjYXRjaCIsIm9rIiwicmVzdWx0IiwicmVzdEdhbWVzIiwic2RrR2FtZXMiLCJsZW5ndGgiLCJnYW1lc0FyciIsInNvdXJjZUdhbWVzIiwidGVhbUlkcyIsImZyb20iLCJTZXQiLCJmbGF0TWFwIiwiZmlsdGVyIiwiQm9vbGVhbiIsIk1hcCIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJ0IiwibmFtZSIsInNldCIsImRlZHVwZWQiLCJmaWx0ZXJlZCIsInNvcnQiLCJhIiwiYiIsIlN0cmluZyIsImxvY2FsZUNvbXBhcmUiLCJSZXNwb25zZSIsInN0cmluZ2lmeSIsImUiLCJlcnJvciIsIm1lc3NhZ2UiLCJQT1NUIiwidGltZSIsInRpbWV6b25lIiwiY29uc29sZSIsImxvZyIsImdhbWVzIiwidGltZXpvbmVUb1VzZSIsImRhdGVUaW1lU3RyIiwidG9JU09TdHJpbmciLCJuZXdHYW1lIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsInB1c2giLCJkYXRhVG9Xcml0ZSIsImJhY2t1cEtleSIsImdhbWVJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/leagues/[leagueId]/schedule/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/@upstash","vendor-chunks/crypto-js","vendor-chunks/@vercel","vendor-chunks/dayjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&page=%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fleagues%2F%5BleagueId%5D%2Fschedule%2Froute.ts&appDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Czdauphinee%5Cgmcc%5CGMCC-league-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();